<div class="container" fxLayout="row" fxLayoutAlign="center none">
    <div fxFlex="95%">
        <mat-card>
            <div class="content-header">
                <div>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#/dashboard">Inicio</a></li>

                            <li class="breadcrumb-item"><a routerLink="{{directorio}}">Operaciones</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Cliente</li>
                        </ol>
                    </nav>
                </div>
            </div><!-- content-header -->
            <div class="content-body">
                <div class="card card-invoice">
                    <div class="card-header">
                        <div>
                            <h5 class="mg-b-3">No.Cliente # {{lblecliente}}</h5>
                            <span class="tx-sm text-muted">Registro: {{lblfhfecharegistro}}</span>
                        </div>
                    </div><!-- card-header -->
                    <div class="card-body">
                        <form #solicitudRazonSocial="ngForm" (ngSubmit)="e_guardar(solicitudRazonSocial)">
                            <div class="component mb-2">
                                <div class="button-row">
                                    <button mat-raised-button color="primary" (click)="e_consulta()"
                                        title="Consultar"><mat-icon>list</mat-icon>&nbsp;Consultar</button>
                                    <button mat-raised-button color="primary"><mat-icon>save</mat-icon>&nbsp;Guardar</button>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-xl-12">
                                    <h6 class="mt-3 mb-2 text-primary">+ Razón social</h6>
                                </div>
                                <div class="col-md-2 col-sm-12 ">
                                    <mat-form-field class="full-width">
                                        <mat-label>Razón social</mat-label>
                                        <input matInput placeholder="" oninput="this.value = this.value.toUpperCase()"
                                            name="trazonsocial" ngModel #trazonsocial="ngModel" required size="256">
                                        <mat-error
                                            *ngIf="FormRazonSocial.controls['trazonsocial'].errors?.required">Razón
                                            social es
                                            requerido</mat-error>
                                    </mat-form-field>
                                    <!--<div class="form-group">
                                        <label class="form-label">Razón social</label>
                                        <input type="text" oninput="this.value = this.value.toUpperCase()"
                                            class="form-control form-control-sm" id="trazonsocial"
                                            formControlName="trazonsocial" name="trazonsocial"
                                            [ngClass]="{ 'is-invalid': submitCliente && frmCliente.trazonsocial.errors }"
                                            maxlength="25">
                                        <div *ngIf="submitCliente && frmCliente.trazonsocial.errors"
                                            class="invalid-feedback">
                                            <div *ngIf="frmCliente.trazonsocial.errors.required">Razón social es
                                                requerido</div>
                                        </div>
                                    </div>-->
                                </div>
                                <div class="col-md-2 col-sm-12">
                                    <mat-form-field class="full-width">
                                        <mat-label>RFC(Registro Federal de Contribuyentes)</mat-label>
                                        <input matInput placeholder="" oninput="this.value = this.value.toUpperCase()"
                                            name="trfc" ngModel #trfc="ngModel" required size="256">
                                        <mat-error *ngIf="FormRazonSocial.controls['trfc'].errors?.required">RFC es
                                            requerido</mat-error>
                                    </mat-form-field>
                                    <!--<div class="form-group">
                                        <label class="form-label">RFC</label>
                                        <input type="text" oninput="this.value = this.value.toUpperCase()"
                                            class="form-control form-control-sm" id="trfc" formControlName="trfc"
                                            name="trfc" maxlength="13"
                                            [ngClass]="{ 'is-invalid': submitCliente && frmCliente.trfc.errors }">
                                        <div *ngIf="submitCliente && frmCliente.trfc.errors" class="invalid-feedback">
                                            <div *ngIf="frmCliente.trfc.errors.required">RFC es requerido</div>
                                        </div>
                                    </div>-->
                                </div>
                                <div class="col-md-2 col-sm-12" style="display: none;">
                                    <mat-form-field class="full-width">
                                        <mat-label>ecliente</mat-label>
                                        <input matInput placeholder="" 
                                            name="ecliente" ngModel #ecliente="ngModel" required size="256">
                                    </mat-form-field>
                                </div>
                            </div>
                        </form>
                        <hr>
                        <form #formDireccionesRazonSocial="ngForm"
                            (ngSubmit)="e_agregarDireccion(formDireccionesRazonSocial)">
                            <div class="row">
                                <div class="col-xl-12">
                                    <h6 class="mt-3 mb-2 text-primary">+ Dirección</h6>
                                </div>
                                <!--
                                    <div class="row">   
                                    <div class="form-group">
                                        <input type="hidden" class="form-control form-control-sm" id="edireccion"
                                            formControlName="edireccion">
                                    </div>
                                </div>

                               -->

                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>Codigo postal</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()" name="ecodigopostal"
                                                ngModel #ecodigopostal="ngModel" required
                                                (change)="e_consultaCp($event)" size="256">
                                            <mat-error
                                                *ngIf="FormDireccion.controls['ecodigopostal'].errors?.required">Cp es
                                                requerido</mat-error>
                                        </mat-form-field>
                                        <!--<div class="form-group">
                                            <label class="form-label">Cp</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="ecodigopostal"
                                                (change)="e_consultaCp($event)" formControlName="ecodigopostal"
                                                name="direccion[ecodigopostal]" maxlength="5"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.ecodigopostal.errors }">
                                            <div *ngIf="submitDireccion && frmdireccion.ecodigopostal.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.ecodigopostal.errors.required">Cp es requerido
                                                </div>
                                                <div *ngIf="frmdireccion.ecodigopostal.errors?.['number']">Cp valor
                                                    numerico!</div>
                                            </div>
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>Estado federativa</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()"
                                                name="tentidadfederativa" ngModel #tentidadfederativa="ngModel" required
                                                size="256">
                                            <mat-error
                                                *ngIf="FormDireccion.controls['tentidadfederativa'].errors?.required">Estado
                                                es requerido</mat-error>
                                        </mat-form-field>

                                        <!--<div class="form-group">
                                            <label class="form-label">Estado</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="tentidadfederativa"
                                                formControlName="tentidadfederativa" name="tentidadfederativa"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.tentidadfederativa.errors }"
                                                readonly>
                                            <div *ngIf="submitDireccion && frmdireccion.tentidadfederativa.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.tentidadfederativa.errors.required">Estado es
                                                    requerido</div>
                                            </div>
                                            <input type="hidden" class="form-control form-control-sm" id="eestado"
                                                formControlName="eestado" name="eestado">
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>Municipio</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()" name="tmunicipio"
                                                ngModel #tmunicipio="ngModel" required size="256">
                                            <mat-error
                                                *ngIf="FormDireccion.controls['tmunicipio'].errors?.required">Municipio
                                                es requerido</mat-error>

                                        </mat-form-field>

                                        <!--<div class="form-group">
                                            <label class="form-label">Municipio</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="tmunicipio"
                                                formControlName="tmunicipio" name="tmunicipio"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.tmunicipio.errors }"
                                                readonly>
                                            <div *ngIf="submitDireccion && frmdireccion.tmunicipio.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.tmunicipio.errors.required">Municipio es
                                                    requerido
                                                </div>
                                            </div>
                                            <input type="hidden" class="form-control form-control-sm" id="emunicipio"
                                                formControlName="emunicipio" name="emunicipio">
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>Colonia</mat-label>
                                            <mat-select name="ecolonia" ngModel #ecolonia="ngModel"  (selectionChange)="e_changeColonia($event)"  required>
                                                <mat-option>SELECCIONAR</mat-option>
                                                <mat-option *ngFor="let dato of arrdatosColonia"
                                                    [value]="dato.ecolonia">
                                                    {{dato.tcolonia}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error *ngIf="FormDireccion.controls.ecolonia.errors?.required">Colonia
                                                es requerido</mat-error>
                                        </mat-form-field>

                                        <!--<div class="form-group">
                                            <label class="form-label">Colonia</label>
                                            <select class="custom-select form-control-sm" id="ecolonia"
                                                formControlName="ecolonia"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.ecolonia.errors }">
                                                <option value="" selected>SELECCIONAR</option>
                                                <option *ngFor="let dato of arrdatosColonia" [ngValue]="dato.ecolonia">
                                                    {{dato.tcolonia}}
                                                </option>
                                            </select>
                                            <div *ngIf="submitDireccion && frmdireccion.ecolonia.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.ecolonia.errors.required">Colonia es requerido
                                                </div>
                                            </div>
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>Calle</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()" name="tcalle" ngModel
                                                #tcalle="ngModel" required size="256">
                                            <mat-error *ngIf="FormDireccion.controls['tcalle'].errors?.required">Calle
                                                es requerido</mat-error>
                                        </mat-form-field>
                                        <!--<div class="form-group">
                                            <label class="form-label">Calle</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="tcalle"
                                                formControlName="tcalle" name="tcalle"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.tcalle.errors }">
                                            <div *ngIf="submitDireccion && frmdireccion.tcalle.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.tcalle.errors.required">Calle es requerido
                                                </div>
                                            </div>
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                        <mat-form-field class="full-width">
                                            <mat-label>N° exterior</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()" name="tnumexterior"
                                                ngModel #tnumexterior="ngModel" required size="256">
                                            <mat-error
                                                *ngIf="FormDireccion.controls['tnumexterior'].errors?.required">N°
                                                exterior</mat-error>
                                        </mat-form-field>
                                        <!--<div class="form-group">
                                            <label class="form-label">N° exterior</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="tnumexterior"
                                                formControlName="tnumexterior" name="tnumexterior"
                                                [ngClass]="{ 'is-invalid': submitDireccion && frmdireccion.tnumexterior.errors }">
                                            <div *ngIf="submitDireccion && frmdireccion.tnumexterior.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="frmdireccion.tnumexterior.errors.required">N° exterior</div>
                                            </div>
                                        </div>-->
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                        <mat-form-field class="full-width">
                                            <mat-label>N° exterior</mat-label>
                                            <input matInput placeholder=""
                                                oninput="this.value = this.value.toUpperCase()" name="tnuminterior"
                                                ngModel #tnuminterior="ngModel" required size="256">
                                        </mat-form-field>
                                        <!--<div class="form-group">
                                            <label class="form-label">N° interior</label>
                                            <input type="text" oninput="this.value = this.value.toUpperCase()"
                                                class="form-control form-control-sm" id="tnuminterior"
                                                formControlName="tnuminterior" name="tnuminterior">
                                        </div>-->
                                    </div>
                                </div>

                                <div class="row" style="display: none;">

                                    <div class="col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>edireccion</mat-label>
                                            <input matInput name="edireccion" ngModel #edireccion="ngModel">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>econtadorrow</mat-label>
                                            <input matInput name="econtadorrow" ngModel #econtadorrow="ngModel">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>eentidadfederativa</mat-label>
                                            <input matInput name="eentidadfederativa" ngModel
                                                #eentidadfederativa="ngModel">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>emunicipio</mat-label>
                                            <input matInput name="emunicipio" ngModel #emunicipio="ngModel">
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-12 col-md-2">
                                        <mat-form-field class="full-width">
                                            <mat-label>colonia</mat-label>
                                            <input matInput name="tcolonia" ngModel #tcolonia="ngModel">
                                        </mat-form-field>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="text-center mt-4 mb-4">
                                        <div class='form-group'>
                                            <button mat-raised-button
                                                color="primary"><mat-icon>add_box</mat-icon>&nbsp;Agregar</button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </form>
                        <hr>
                        <div class="table-responsive">
                            <table class="table table-sm mg-b-0">
                                <tr>
                                    <th scope="col" colspan="2">Accciones</th>
                                    <th scope="col">#</th>
                                    <th scope="col">Cp</th>
                                    <th scope="col">Estado</th>
                                    <th scope="col">Municipio</th>
                                    <th scope="col">Colonia</th>
                                    <th scope="col">Calle</th>
                                    <th scope="col">N° exterior</th>
                                    <th scope="col">N° interior</th>
                                </tr>
                                <tbody>
                                    <tr *ngFor="let dato of direcciones; let i = index">
                                        <td><button type="button" mat-raised-button color="primary"
                                                (click)="e_eliminarDireccion(dato)"><mat-icon>delete</mat-icon>&nbsp;Eliminar</button>
                                        </td>
                                        <td><button type="button" mat-raised-button color="primary"
                                                (click)="e_editarDireccion(dato)"><mat-icon>edit</mat-icon>&nbsp;Editar</button>
                                        </td>
                                        <td>{{i+ 1 }}</td>
                                        <td>{{dato.ecodigopostal}}</td>
                                        <td>{{dato.tentidadfederativa}}</td>
                                        <td>{{dato.tmunicipio}}</td>
                                        <td>{{dato.tcolonia}}</td>
                                        <td>{{dato.tcalle}}</td>
                                        <td>{{dato.tnumexterior}}</td>
                                        <td>{{dato.tnuminterior}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div><!-- content-body -->
        </mat-card>
    </div>
</div>